---
title: 形式概念分析简介
---

# 引子

当观察**物体（object）**时，
我们总是想要去给物体分类，
而我们给物体分类的依据，
会被总结成物体的**属性（attribute）**。

我们经常会发现某一组属性具有特殊意义，
我们可以给这组属性，
以及恰好由其所描述的所有物体，
取一个名字，并且称其为一个**概念（concept）**，
这组属性就称为这个概念的**内涵（intent）**，
恰好由这组属性所描述的物体的集合就称为这个概念的**外延（extent）**。

单个物体和单个属性本身也代表一个概念。
如果需要的话，新发现的一个概念，
也可以被认为是新发现的一个属性，
添加到原有的属性的集合中。

寻找有意义的属性集合与物体集合以形成概念，
就是我们在认识世界的过程中经常要解决的问题。

**形式概念分析（formal concept analysis）**
可以让我们定义概念之间的蕴含关系，
即分析概念的一般性与特殊性，
特殊的概念蕴含一般的概念。

蕴含关系使得概念的集合成为一个**有序集（ordered set）**，
借助有序集的理论，
形式概念分析可以让我们从已有的，
关于物体与属性的数据出发，
发现所有可能的概念。

形式概念分析还可以让我们画出一个**格（lattice）**
从视觉让认识概念之间的蕴含关系，
从而让我们对概念的认识更清晰。

# 形式语境

物体与属性之间的关系，我们有如下等价的说法：

- 「物体」具有「属性」；
- 「属性」描述「物体」；
- 「属性」属于「物体」，
  - 「属性」的「属」就是「属于」的「属」。

这个关系是一个**二元关系（binary relation）**，
想要明确定义一个二元关系，
首先要明确它的两个元所属的集合分别是什么。
也就是要给物体和属性一个范围，
明确指出所讨论的物体的集合和属性的集合分别是什么。

我们将这种对所讨论的范围的限制，
称为**形式语境（formal context）**，
通过它来限定物体与属性的集合以及其关系：

- 集合：物体
- 集合：属性
- 关系：物体具有属性

# 形式概念

我们所说的概念有别于一般意义上的**认知概念（cognitive concept）**，
我们进一步明确我们的术语，称其为**形式概念（formal concept）**。

一个形式概念包含两部分，即外延和内涵，
我们可以把引子中对概念的定义进一步形式化，
要求：

- 外延中的任意一个物体，具有内涵中的所有属性；
- 内涵中的任意一个属性，描述外延中的所有物体；

**形式（formal）**一词，
强调我们的分析方法，
只依赖于形式语境的定义本身，
而不去考虑概念在给定语境之外的外延与内涵。

# 概念格

在给定的形式语境下，
我们可以定义概念之间的**蕴含（implication）**关系。

有两种等价的定义方式：

- 用概念的外延之间的包含关系来定义：
  概念 A 蕴含 B，定义为 B 的外延包含 A 的外延。

- 用概念的内涵之间的包含关系来定义：
  概念 A 蕴含 B，定义为 A 的内涵包含 B 的外延。

概念 A 蕴含 B，
- 就是说 A 是比 B 更特殊的概念，
  - 具有更多的属性（更大的内涵），
  - 但是包含更少的物体（更小的外延）；
- 也是说 B 是比 A 更一般的概念，
  - 具有更少的属性（更小的内涵），
  - 但是包含更多的物体（更大的外延）。

因此，概念的集合，在蕴含关系下，成为一个有序集。
我们可以用**格论（lattice theory）**来分析有序集，
只要定义了**取上（join）**与**取下（meet）**两个二元运算，
就从有序集来到了格论。

- 取最小上界，简称取上；
- 取最大下界，简称取下。

我们称概念的有序集所形成的格为**概念格（concept lattice）**。
如果概念语境是有限的，那么概念格一个**完全格（complete lattice）**。

# 衍生算子

如何计算概念格中的取上与取下呢？
这需要格的**交集结构（intersection-structure）**：

- 取上用到外延之间的交；
- 取下用到内涵之间的交。

为什么会这样呢？
在格论之外，我们唯一的已知条件就是形式概念的定义。

TODO 关于衍生算子

- 衍生算子的定义中用到的逻辑上的**且（and，conjection）**，
  本身就对应于集合的**交（intersection）**。

# 概念格中的所有概念

TODO 关于格的生成元

- 可以用来生成格中所有元素的子集，
  可能重复，因此也许不应该像线性空间中的那样，
  被称为**基（base）**。

其次是如何在已有 objects 和 attributes 的情况下，
生成 concept lattice 中的有 concepts。
这需了解 join-danse 与 meet-danse 的概念，
lattice 的这些子集可以用来生成 lattice 中的所有元素。

# 画出概念格

TODO 画出概念格需要哪些格论知识？

- 首先想到的是给 lattice 中的点以 rank，来确定点的纵向坐标。
  而最基础的给 rank 的方式都是基于 chain 的。
  所以 chain 相关的知识就是所需要的。

------

# 衍生算子

首先可以从「具有」与「描述」的关系，
衍生出来把物体映射为属性的集合的函数：

- 说一个物体具有一组属性，就是说这个物体具有其中每一个属性。
- 说一个属性描述一组物体，就是说这个属性描述其中每一个物体。

然后可以定义两个衍生算子，
也算是把「具有」与「描述」关系，
拓展成了集合与集合之间的关系：

- 一组物体可以衍生出一组属性，即所有描述这组物体的属性。
- 一组属性可以衍生出一组物体，即所有具有这组属性的物体。

注意，形式概念定义中所说的
「一组属性，以及其所描述的所有物体，就是一个形式概念。」
只是显式地说出了，内涵衍生外延（或者说内涵描述外延）。
为了定义形式概念，我们还必须要求外延也衍生内涵（或者说外延具有内涵）。
即是说，概念的内涵与外延相互衍生。

# 闭包算子

衍生算子还可以给出两个闭包算子：

- 一组物体所衍生的属性所衍生的物体，就是这组物体的闭包。
- 一组属性所衍生的物体所衍生的属性，就是这组属性的闭包。

对比一般的[闭包算子](https://en.wikipedia.org/wiki/Closure_operator)，
以及[拓扑学中的闭包算子](https://en.wikipedia.org/wiki/Characterizations_of_the_category_of_topological_spaces)。
