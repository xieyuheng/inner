---
title: 7. Formatting
---

> No other topic generates more heat and less light than code
> formatting. Everybody has their own style and attempts to impose
> another style are met with ferocious resistance. So, why am I
> willingly sticking my head into this buzz saw?

> The first reason is "because it is there." I want to push patterns
> to their limit, to see how well they apply to a detail-oriented,
> exception-ridden, and emotion-filled topic. I wrote these patterns
> over the course of a couple of months. As new special cases came up,
> I either had to modify the patterns, add a new pattern, or format my
> code according to the existing patterns. Before long, I no longer
> was finding cases where I had to change the patterns. I am quite
> pleased that all of formatting in Smalltalk fits into ten patterns.

> The second reason is "because it is important." Not necessarily
> formatting code according to these patterns but formatting them
> according to some set of consistent rules gives a team a smoothness
> to their interaction. If everybody formats the same way, then
> reviews and code transfer are never delayed while someone "cleans
> up" the code. Done right, formatting can convey a lot of information
> about the structure of code at a glance.

> The third reason is to advance the discussion of formatting.
> Stating the rules as patterns makes my goals and tradeoffs explicit.
> If you have a different style, you can use these patterns as an
> example to cast your own rules as patterns. Then you can compare,
> explicitly, what problems each set of patterns solves and what
> problems each ignores.

> The priorities of these patterns are:
>
> 1. To make the gross structure of the method apparent at a glance.
>    Complex messages and blocks, in particular, should jump out at
>    the reader.
>
> 2. To preserve vertical space. There is a huge difference between
>    reading a method that fits into the text pane of a browser and
>    reading one that forces you to scroll. Keeping methods compact
>    vertically lets you have smaller browsers and still be able to
>    read methods without scrolling. This reduces window management
>    overhead and leaves more screen space for other programming
>    tools.
>
> 3. To be easy to remember. I have seen style guides that have 50–100
>    rules for formatting. Formatting is important but it shouldn’t
>    take that much brain power.

这里提到的 "To preserve vertical space"
和 smalltalk 中编辑器的设计有关，
我觉得 scroll 很方便，更希望能节省横向的空间，
虽好代码很瘦，可以在手机上看。

# Inline Message Pattern

<question>
  TODO

  <answer>
    Inline Message Pattern

    TODO
  </answer>
</question>

# Type Suggesting Parameter Name

<question>
  TODO

  <answer>
    Type Suggesting Parameter Name

    TODO
  </answer>
</question>

# Indented Control Flow

<question>
  TODO

  <answer>
    Indented Control Flow

    TODO
  </answer>
</question>

# Rectangular Block

<question>
  TODO

  <answer>
    Rectangular Block

    TODO
  </answer>
</question>

# Guard Clause

<question>
  TODO

  <answer>
    Guard Clause

    TODO
  </answer>
</question>

# Conditional Expression

<question>
  TODO

  <answer>
    Conditional Expression

    TODO
  </answer>
</question>

# Simple Enumeration Parameter

<question>
  TODO

  <answer>
    Simple Enumeration Parameter

    TODO
  </answer>
</question>

# Cascade

<question>
  TODO

  <answer>
    Cascade

    TODO
  </answer>
</question>

# Yourself

<question>
  TODO

  <answer>
    Yourself

    TODO
  </answer>
</question>

# Interesting Return Value

<question>
  TODO

  <answer>
    Interesting Return Value

    TODO
  </answer>
</question>
